EXENAME = main

CXX = clang++
CXXFLAGS = -std=c++11 -g -O0 -Wall -Wextra

all : $(EXENAME)

$(EXENAME): main.cpp pet.h pet.o
	$(CXX) $(CXXFLAGS) main.cpp pet.o -o $(EXENAME)

pet.o: pet.h pet.cpp
	$(CXX) $(CXXFLAGS) -c pet.cpp

.PHONY: clean
clean:
	rm -f $(EXENAME)

combined.txt: pet.h pet.cpp
	@echo ---------------------------------------- > combined.txt
	@echo pet.h >> combined.txt
	@echo ---------------------------------------- >> combined.txt
	@cat pet.h >> combined.txt
	@echo ---------------------------------------- >> combined.txt
	@echo pet.cpp >> combined.txt
	@echo ---------------------------------------- >> combined.txt
	@cat pet.cpp >> combined.txt

.PHONY: upload
upload: combined.txt
	@python .pl_upload.py || echo "Can't upload; please upload your code using your browser."
